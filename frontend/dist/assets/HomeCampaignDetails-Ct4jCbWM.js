import{_ as U,d as Y,r as d,u as J,o as K,a as O,c as Q,b as i,e as t,f as b,g as W,t as r,F as X,h as Z,i as a,j as tt,k as A,w as E,l as et,T as st,m as ot,n as l,p as rt,q as at,s as nt,v as V,x as z,y as lt}from"./index-DwGMCOiv.js";const it={class:"min-h-screen flex flex-col"},dt={class:"flex-grow bg-gradient-to-br from-rose-50 to-white dark:from-gray-900 dark:to-gray-800"},ut={key:0,class:"py-14"},mt={key:1,class:"py-14"},gt={class:"max-w-6xl mx-auto px-2 sm:px-4 lg:px-6"},pt={class:"grid grid-cols-1 md:grid-cols-2 gap-10 items-start"},xt={class:"block md:hidden text-2xl font-bold text-gray-900 dark:text-white mb-4",style:{color:"#fd624e","margin-top":"-30px"}},bt={class:"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-sm"},ct=["src"],vt={class:"flex flex-wrap gap-3 mt-4"},ft=["src","onClick"],yt={class:"mt-8 space-y-8 text-sm text-gray-700 dark:text-gray-300"},kt={class:"text-base leading-relaxed"},wt={style:{"margin-top":"-1px"}},_t=["innerHTML"],ht={style:{"margin-top":"-20px"}},Bt=["innerHTML"],Tt={style:{"margin-top":"-20px"}},Ct=["innerHTML"],Lt={class:"bg-white dark:bg-gray-900 p-6 rounded-xl shadow-md border dark:border-gray-700"},Mt={class:"hidden md:block text-3xl font-extrabold text-rose-600 dark:text-white mb-4 leading-tight",style:{color:"#fd624e"}},Ht={class:"mb-8 space-y-3 text-gray-700 dark:text-gray-300"},St={class:"text-lg font-semibold"},$t={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},Dt={class:"text-sm"},Ft={class:"text-sm"},It={class:"text-sm"},At={class:"text-sm"},Et={class:"text-sm"},Vt={class:"text-sm"},zt={class:"mt-8"},Nt={__name:"HomeCampaignDetails",setup(jt){const u=Y.useToast(),N=O(),s=d(null),p=d(""),m=d(!1),g=d(""),x=d(""),c=d(!0),j=J(),{user:v}=j;function f(o){return new Date(o).toLocaleDateString()}function q(o){p.value=o}async function G(){try{if(!g.value){u.warning("Please enter a bid amount.");return}await lt.submitBid({campaign_id:s.value.id,amount:g.value,note:x.value}),u.success("✅ Interest Request submitted successfully.",{position:"top-right"}),m.value=!1,g.value="",x.value=""}catch(o){console.error("Bid submission failed:",o),o.response&&o.response.status===409?u.warning(o.response.data.message,{position:"top-right"}):o.response&&o.response.status===403?u.error(o.response.data.message,{position:"top-right"}):u.error("❌ Failed to submit bid. Please try again.",{position:"top-right"})}}return K(async()=>{const o=N.params.id,e=await Q.fetch(o);s.value=e.data,e.data.assets.length>0&&(p.value=`https://demo.ngumzo.com/storage/${e.data.assets[0]}`),c.value=!1}),(o,e)=>{var y,k,w,_,h,B,T,C,L,M,H,S,$,D,F,I;const P=et("router-link");return l(),i("div",it,[t("main",dt,[b(W),c.value?(l(),i("section",ut,e[3]||(e[3]=[t("div",{class:"max-w-6xl mx-auto text-center text-rose-600 font-semibold"}," ⏳ Loading campaign... ",-1)]))):(l(),i("section",mt,[t("div",gt,[t("div",pt,[t("div",null,[t("h1",xt,r((y=s.value)==null?void 0:y.title),1),t("div",bt,[t("img",{src:p.value,alt:"Main Asset",class:"w-full h-[400px] object-cover"},null,8,ct)]),t("div",vt,[(l(!0),i(X,null,Z((k=s.value)==null?void 0:k.assets,(n,R)=>(l(),i("img",{key:R,src:`https://demo.ngumzo.com/storage/${n}`,onClick:qt=>q(`https://demo.ngumzo.com/storage/${n}`),class:rt(["w-20 h-20 object-cover rounded-md border cursor-pointer hover:opacity-80 transition ring-offset-2",{"ring-2 ring-pink-500":p.value===`https://demo.ngumzo.com/storage/${n}`}])},null,10,ft))),128))]),t("div",yt,[t("p",kt,r((w=s.value)==null?void 0:w.about),1),t("div",wt,[e[4]||(e[4]=t("h3",{class:"text-xl font-semibold text-gray-800 dark:text-white mb-2"}," Brief ",-1)),t("div",{innerHTML:(_=s.value)==null?void 0:_.brief,class:"prose prose-sm max-w-none dark:prose-invert"},null,8,_t)]),t("div",ht,[e[5]||(e[5]=t("h3",{class:"text-xl font-semibold text-gray-800 dark:text-white"}," Creative Guidance ",-1)),t("div",{innerHTML:(h=s.value)==null?void 0:h.guidance,class:"prose prose-sm max-w-none dark:prose-invert"},null,8,Bt)]),t("div",Tt,[e[6]||(e[6]=t("h3",{class:"text-xl font-semibold text-gray-800 dark:text-white mb-2"}," Influencer Eligibility ",-1)),t("div",{innerHTML:(B=s.value)==null?void 0:B.eligibility,class:"prose prose-sm max-w-none dark:prose-invert"},null,8,Ct)])])]),t("div",Lt,[t("h1",Mt,r((T=s.value)==null?void 0:T.title),1),t("div",Ht,[t("p",St,[a(r((C=s.value)==null?void 0:C.brand)+" ",1),t("span",$t,"| "+r((L=s.value)==null?void 0:L.website),1)]),t("p",Dt,[e[7]||(e[7]=t("strong",null,"From ",-1)),a(" "+r(f((M=s.value)==null?void 0:M.start_date))+" - ",1),e[8]||(e[8]=t("strong",null,"To ",-1)),a(" "+r(f((H=s.value)==null?void 0:H.end_date)),1)]),t("p",Ft,[e[9]||(e[9]=t("strong",null,"Budget:",-1)),a(" "+r((S=s.value)==null?void 0:S.budget),1),e[10]||(e[10]=t("br",null,null,-1))]),t("p",It,[e[11]||(e[11]=t("strong",null,"Location:",-1)),a(" "+r(($=s.value)==null?void 0:$.residence),1),e[12]||(e[12]=t("br",null,null,-1))]),t("p",At,[e[13]||(e[13]=t("strong",null,"Interests:",-1)),a(" "+r((D=s.value)==null?void 0:D.target_interests),1),e[14]||(e[14]=t("br",null,null,-1))]),t("p",Et,[e[15]||(e[15]=t("strong",null,"Target Age:",-1)),a(" "+r((F=s.value)==null?void 0:F.target_age),1),e[16]||(e[16]=t("br",null,null,-1))]),t("p",Vt,[e[17]||(e[17]=t("strong",null,"Goal:",-1)),a(" "+r((I=s.value)==null?void 0:I.primary_goal),1),e[18]||(e[18]=t("br",null,null,-1))])]),t("div",zt,[A(v)?(l(),i("button",{key:0,style:{background:"#fd624e"},onClick:e[0]||(e[0]=n=>m.value=!m.value),class:"w-full hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-lg transition"},r(m.value?"✖️ Close Bid Form":"Express Interest"),1)):(l(),tt(P,{key:1,to:"/login",style:{background:"#fd624e"},class:"w-full block text-center hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-lg transition"},{default:E(()=>e[19]||(e[19]=[a(" Login to Bid ")])),_:1,__:[19]})),b(st,{name:"fade"},{default:E(()=>[A(v)&&m.value?(l(),i("form",{key:0,onSubmit:nt(G,["prevent"]),class:"mt-6 space-y-4 bg-rose-50 dark:bg-gray-800 p-4 rounded-lg border dark:border-gray-700"},[t("div",null,[e[20]||(e[20]=t("label",{for:"bidAmount",class:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300"},"Enter Your Budget ",-1)),V(t("input",{type:"number",id:"bidAmount","onUpdate:modelValue":e[1]||(e[1]=n=>g.value=n),class:"w-full px-3 py-2 border rounded-md bg-white dark:bg-gray-900 dark:text-white dark:border-gray-600",placeholder:"Enter your bid amount",required:""},null,512),[[z,g.value]])]),t("div",null,[e[21]||(e[21]=t("label",{for:"note",class:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300"},"Note",-1)),V(t("textarea",{id:"note","onUpdate:modelValue":e[2]||(e[2]=n=>x.value=n),rows:"3",class:"w-full px-3 py-2 border rounded-md bg-white dark:bg-gray-900 dark:text-white dark:border-gray-600",placeholder:"Tell us why you're a great fit"},null,512),[[z,x.value]])]),e[22]||(e[22]=t("button",{type:"submit",class:"w-full hover:bg-pink-700 text-white font-semibold py-2 px-4 rounded-lg transition",style:{background:"#fd624e"}}," Submit Bid ",-1))],32)):at("",!0)]),_:1})])])])])]))]),b(ot)])}}},Pt=U(Nt,[["__scopeId","data-v-7c285418"]]);export{Pt as default};
